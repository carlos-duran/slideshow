/*!
 * Slideshow.js v0.0.1
 * (c) 2017 Carlos Duran
 */
'use strict';var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(){function a(){this.isHover=!0}function b(){this.isHover=!1}function c(g,h){var k,l,m,n,o,s,t,j=g,p=80,q=100,u=h||function(){};j.addEventListener('touchstart',function(v){var w=v.changedTouches[0];k='none',dist=0,l=w.pageX,m=w.pageY,t=new Date().getTime()},!1),j.addEventListener('touchend',function(v){var w=v.changedTouches[0];n=w.pageX-l,o=w.pageY-m,s=new Date().getTime()-t,s<=300&&(Math.abs(n)>=p&&Math.abs(o)<=q?k=0>n?'left':'right':Math.abs(o)>=p&&Math.abs(n)<=q&&(k=0>o?'up':'down')),u(k)},!1)}var d={el:'.slideshow',auto:!1,interval:5e3,pauseOnHover:!1,random:!1,animations:[],animationsOut:[],duration:500},f=function(){function g(h){_classCallCheck(this,g),Object.assign(this,d,h),this.validate()&&(this.init(),this.auto&&this.play(),this.setEvents())}return _createClass(g,[{key:'validate',value:function validate(){return!!this.el||(this.debug&&console.log('Should specify an element'),!1)}},{key:'init',value:function init(){var j=this;if(this.el=document.querySelector(this.el),this.items=Array.from(this.el.children),void 0!==this.active)this.active%=this.items.length;else{var h=this.items.findIndex(function(k){return k.classList.contains('active')});this.active=-1<h?h:0}this.interval=this.interval<this.duration?this.duration:this.interval,this.items.forEach(function(k,l){k.style.display=l===j.active?'block':'none',k.style.animationDuration=1*j.duration/1e3+'s'}),this.sliding=!1,this.paused=!1,this.timer=0,this.onready&&this.onready(),this.onchange&&this.onchange()}},{key:'show',value:function show(h){var l=this;if(-1<h&&h<this.items.length&&h!==this.active&&!this.sliding)if(this.timer=0,this.percentage&&this.percentage(),this.items.forEach(function(m,n){m.style.display=n===l.active?'block':'none'}),this.animations.length){this.sliding=!0,this.items.forEach(function(m){var n;(n=m.classList).remove.apply(n,_toConsumableArray(l.animations).concat(_toConsumableArray(l.animationsOut)))});var j=Math.floor(Math.random()*this.animations.length),k=Math.floor(Math.random()*this.animationsOut.length);this.items[h].classList.add('sliding',this.animations[j]),this.items[h].style.display='block',this.animationsOut.length&&this.items[this.active].classList.add(this.animationsOut[k]),setTimeout(function(){l.items[l.active].style.display='none',l.items[l.active].classList.remove('active'),l.items[h].classList.remove('sliding',l.animations[j]),l.items[h].classList.add('active'),l.active=h,l.sliding=!1,l.onchange&&l.onchange()},this.duration)}else this.items[this.active].style.display='none',this.active=h,this.items[h].classList.add('active'),this.items[this.active].style.display='block',this.onchange&&this.onchange()}},{key:'next',value:function next(){var h=(this.active+1)%this.items.length;this.show(h)}},{key:'prev',value:function prev(){var h=this.active-1;0>h&&(h=this.items.length-1),this.show(h)}},{key:'play',value:function play(){var j=this;if(this.paused=!1,!this.loop){var h=50;this.loop=setInterval(function(){j.paused||j.pauseOnHover&&j.isHover||(j.timer+=h,j.timer>j.interval&&j.next(),j.percentage&&j.percentage())},h)}}},{key:'pause',value:function pause(){this.paused=!0}},{key:'stop',value:function stop(){this.timer=0,clearInterval(this.loop),this.loop=null,this.percentage&&this.percentage()}},{key:'setEvents',value:function setEvents(){var h=this;this.el.addEventListener('mouseover',a.bind(this)),this.el.addEventListener('mouseout',b.bind(this)),c(this.el,function(j){'left'==j&&h.next(),'right'==j&&h.prev()})}},{key:'removeEvents',value:function removeEvents(){this.el.removeEventListener('mouseover',a.bind(this)),this.el.removeEventListener('mouseout',b.bind(this))}}]),g}();window.Slideshow=f})();
