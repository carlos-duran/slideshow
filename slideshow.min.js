/*!
 * Slideshow.js v0.0.1
 * (c) 2017 Carlos Duran
 */
'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(){function a(){this.isHover=!0}function b(){this.isHover=!1}var c={el:'.slideshow',auto:!1,interval:5e3,pauseOnHover:!1,random:!1,animations:[],animationsOut:[],duration:500},d=function(){function e(f){_classCallCheck(this,e),Object.assign(this,c,f),this.validate()&&(this.init(),this.auto&&this.play(),this.setEvents())}return _createClass(e,[{key:'validate',value:function validate(){return!!this.el||(this.debug&&console.log('Should specify an element'),!1)}},{key:'init',value:function init(){var g=this;if(this.el=document.querySelector(this.el),this.items=Array.from(this.el.children),void 0!==this.active)this.active%=this.items.length;else{var f=this.items.findIndex(function(h){return h.classList.contains('active')});this.active=-1<f?f:0}this.interval=this.interval<this.duration?this.duration:this.interval,this.items.forEach(function(h,j){h.style.display=j===g.active?'block':'none',h.style.animationDuration=1*g.duration/1e3+'s'}),this.sliding=!1,this.paused=!1,this.timer=0,this.onready&&this.onready(),this.onchange&&this.onchange()}},{key:'show',value:function show(f){var j=this;if(-1<f&&f<this.items.length&&f!==this.active&&!this.sliding){if(this.timer=0,this.items.forEach(function(k,l){k.style.display=l===j.active?'block':'none'}),this.animations.length){this.sliding=!0,this.items.forEach(function(k){var l;(l=k.classList).remove.apply(l,_toConsumableArray(j.animations).concat(_toConsumableArray(j.animationsOut)))});var g=Math.floor(Math.random()*this.animations.length),h=Math.floor(Math.random()*this.animationsOut.length);this.items[f].classList.add('sliding',this.animations[g]),this.items[f].style.display='block',this.animationsOut.length&&this.items[this.active].classList.add(this.animationsOut[h]),setTimeout(function(){j.items[j.active].style.display='none',j.items[f].classList.remove('sliding',j.animations[g]),j.active=f,j.sliding=!1},this.duration)}else this.items[this.active].style.display='none',this.active=f,this.items[this.active].style.display='block';this.onchange&&this.onchange()}}},{key:'next',value:function next(){var f=(this.active+1)%this.items.length;this.show(f)}},{key:'prev',value:function prev(){var f=this.active-1;0>f&&(f=this.items.length-1),this.show(f,!0)}},{key:'play',value:function play(){var g=this;if(this.paused=!1,!this.loop){var f=50;this.loop=setInterval(function(){g.paused||g.pauseOnHover&&g.isHover||(g.timer+=f,g.timer>g.interval&&g.next(),g.percentaje&&g.percentaje())},f)}}},{key:'pause',value:function pause(){this.paused=!this.paused}},{key:'stop',value:function stop(){this.timer=0,clearInterval(this.loop),this.loop=null,this.percentaje&&this.percentaje()}},{key:'setEvents',value:function setEvents(){this.el.addEventListener('mouseover',a.bind(this)),this.el.addEventListener('mouseout',b.bind(this))}},{key:'removeEvents',value:function removeEvents(){this.el.removeEventListener('mouseover',a.bind(this)),this.el.removeEventListener('mouseout',b.bind(this))}}]),e}();window.Slideshow=d})();
